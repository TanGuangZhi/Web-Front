<!--
 * @Author: TanGuangZhi
 * @Date: 2021-12-30 12:15:14 Thu
 * @LastEditTime: 2022-02-14 11:36:55 Mon
 * @LastEditors: TanGuangZhi
 * @Description: 
 * @KeyWords: NodeJs, Express, MongoDB
-->
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>

<body>
    <script type="text/javascript">
        //1.map的常用函数
        // let map = new Map();
        // //1.往map中存储数据
        // map.set("尚尚", 99);
        // map.set("尚尚", 89);//覆盖前面的数据 key具有唯一性
        // map.set("班长", 100);
        // map.set("班长", 98);//覆盖前面的数据 key具有唯一性
        // map.set("舒心", 94);
        // map.set("俊杰", 78);
        // map.set("广志", 88);
        // map.set("张三", 100);
        // //2.取数据
        // console.log(map.get("班长"));//99
        // console.log(map.get("舒心"));//100
        // //3.判断某个key是否已经存在(不存在才会添加，或者说存在才会删除)
        // console.log(map.has("思聪"));//不存在 false
        // console.log(map.has("班长"));//存在返回true
        // //4.根据key删除整个数据
        // map.delete("张三");
        // //map.clear();//清空全部数据
        // //5.遍历数据
        // map.forEach((value, key) => {
        //     console.log(key + "," + value);
        // });

        // //1.扩展
        // let arr = [...map];
        // //[{key,value},{key,value},{key,value}]
        // //[[key,value],[key,value],[key,value]]
        // arr.sort((a, b) => {
        //     return b[1] - a[1];
        // });
        // console.log(arr);
        // //6.key存储商品的名字  value存储商品的价格(数据自己模拟)，使用上述的函数测试一遍
        // //7."aabcaabcabbjjkkllhh":利用map统计各个符号出现的次数，并且按照次数进行顺序排列。
        // //key ,value  （存储符号，存储符号出现的次数）
        // let str = "aabcaabcabbjjkkllhh";
        // let mapCount = new Map();
        // for (let i = 0; i < str.length; i++) {
        //     let c = str.charAt(i);
        //     if (mapCount.has(c)) {
        //         mapCount.set(c, mapCount.get(c) + 1);//存在在原来的次数的基础之上加1
        //     } else {
        //         mapCount.set(c, 1);//不存在说明是第一次出现
        //     }
        // }
        // console.log("总共由" + mapCount.size + "个符号组成");
        // mapCount.forEach((value, key) => {
        //     console.log(key + "出现的次数为" + value);
        // });
        //8.随机生成30个，90-100[90,100)之间的随机数，要求统计各个随机数出现的次数，并且按照随机数的大小顺序排列
        //key 随机数字  value 这个随机数出现的次数
        let mapNum = new Map();
        for (let i = 0; i < 30; i++) {
            let num = parseInt(Math.random() * 10) + 90;
            if (mapNum.has(num)) {//存在，在之前的基础之上加1
                mapNum.set(num, mapNum.get(num) + 1);
            } else {//不存在 说明是第一次出现
                mapNum.set(num, 1);
            }
        }
        //1.未排序之前的数据
        mapNum.forEach((value, key) => {
            //    console.log(key+"出现的次数为:"+value);
        });
        //2.根据随机数的大小进行顺序排列（将map集合转成数组）
        let arrMap1 = [...mapNum];//[[key,value],[key,value],[key,value]]
        arrMap1.sort((a, b) => {
            return a[0] - b[0];
        });
        // console.log(arrMap1);
        //3.根据出现的次数进行倒序排列，如果次数一样按照随机数大小进行顺序排列
        let arrMap2 = [...mapNum];
        console.log('mapNum:', mapNum)
        console.log('arrMap2:', arrMap2)
        arrMap2.sort((a, b) => {
            if (a[1] == b[1]) {
                return a[0] - b[0];
            }
            return b[1] - a[1];//按照value(次数) 倒序排列
        });
        // console.log(arrMap2);
        //应用角度: 存数据，取数据，以及判断数据是否存在
        //扩展的角度: 去重，统计，加排序(map转数组)

    </script>
</body>

</html>
