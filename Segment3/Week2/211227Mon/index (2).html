<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Title</title>

    <style type="text/css">
        table {
            width: 80%;
            border-collapse: collapse;
            text-align: center;
            margin: 0px auto;
        }

        table tr {
            line-height: 40px;
        }

        table td {
            border: 1px solid gray;
        }
    </style>
</head>

<body>
    <p>
        请选择:
        <select name="type" id="selId">
            <option value="">请选择查询类型</option>
            <option value="0">查询教师</option>
            <option value="1">查询学生</option>
        </select>
    </p>

    <table>
        <tr style="line-height: 60px;background: #5bc0de">
            <td>编号</td>
            <td>姓名</td>
            <td>密码</td>
            <td>性别</td>
            <td>手机号</td>
            <td>成绩</td>
            <td>类型(教师/学生)</td>
            <td>操作</td>
        </tr>
        <tbody id="showTab">
            <tr>
                <td>1</td>
                <td>jack</td>
                <td>1234</td>
                <td>12580</td>
                <td>男</td>
                <td>89</td>
                <td>学生</td>
                <td>
                    <button type="button">删除</button>
                    <button type="button">修改</button>
                </td>
            </tr>
        </tbody>
    </table>

    <script src='https://code.jquery.com/jquery-3.6.0.min.js' crossorigin='anonymous'
        integrity='sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4='></script>
    <script type="text/javascript" src="data.js"></script>

    <script type="text/javascript">
        let dataList = [
            new Student(1, "武松", "1234", "12580", "男", 94),
            new Student(2, "武大郎", "1234", "12581", "男", 44),
            new Student(3, "李逵", "1234", "12582", "男", 56),
            new Student(4, "关胜", "1234", "12583", "男", 77),
            new Student(5, "西门庆", "1234", "12584", "男", 87),
            new Student(6, "孙二娘", "1234", "12585", "女", 67),
            new Teacher(7, "赔钱虎", "1234", "10080", "男", 90),
            new Teacher(8, "小乔", "1234", "10081", "女", 80),
            new Teacher(9, "大乔", "1234", "10082", "女", 50),
            new Teacher(10, "妲己", "1234", "10083", "女", 94),
            new Teacher(11, "安其拉", "1234", "10084", "女", 70),
            new Teacher(12, "赵云", "1234", "10085", "男", 92)
        ];

        function queryData(dataList) {
            let str = ``;
            for (let ele of dataList) {
                str += ` <tr>
                <td>${ele.id}</td>
                <td>${ele.name}</td>
                <td>${ele.pass}</td>
                <td>${ele.phone}</td>
                <td>${ele.gender}</td>
                <td>${ele.score}</td>
                <td>${ele instanceof Student ? "学生" : "教师"}</td>
                <td>
                    <button type="button" >删除</button>
                    <button type="button">修改</button>
                </td>
            </tr>`;
            }
            $("#showTab").html(str);
        }
        // queryData(dataList);

        $("#selId").change(function () {
            let newArr = dataList.filter((item, index, array) => {
                if ($("#selId").val() == "") {//得到全部对象
                    // return item;
                } else if ($("#selId").val() == "0") {//得到教师对象
                    return item instanceof Teacher;
                } else if ($("#selId").val() == "1") {//得到学生对象
                    return item instanceof Student;
                }
            });
            queryData(newArr);
        });

    </script>
</body>

</html>