<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // String;
        // 1.用户输入一串数字，设法在每个数字之间插入[2个随机字母(大小写)，并输出整个字符串   1792     1yu7gk9jk2     forof 
        let userInputNum = 12341;
        function insertRandomWordBetweenNum(params, time) {
            let returnString = '';
            for (const iterator of params + "") {
                returnString += iterator + getRandomWord(time);
            }
            return returnString;
        }

        // 生成指定次数的随机数
        function getRandomWord(time) {
            let stringRandom = "zxcvbnmasdfghjklqwertyuiopZXCVBNMASDFGHJKLQWERTYUIOP";
            let returnString = '';
            for (let index = 0; index < time; index++) {
                let randomNum = parseInt(Math.random() * 49);
                returnString += stringRandom.charAt(randomNum)
            }
            return returnString;
        }

        console.log(`${insertRandomWordBetweenNum(userInputNum, 3)}`); // String.html:35 1ZLn2roY3FVT4rBK1ucN

        // 2.实现一个函数，将一个字符串中的空格替换成“%20”。
        // 例如，当字符串为We Are Happy.则经过替换之后的字符串为We%20Are%20Happy replace
        function replaceBlank(params) {
            return params.replace(/ /g, "%20");
        }
        console.log(`${replaceBlank("We Are Happy")}`); // We%20Are%20Happy

        // 3.字符串解析,现有一字符串,"卡巴斯基#杀毒软件#免费版#俄罗斯#",解析出每个元素
        function getAllEleByTag(params, tag) {
            return params.split(tag);
        }
        console.log(`${getAllEleByTag("卡巴斯基#杀毒软件#免费版#俄罗斯#", "#")}`); // 卡巴斯基,杀毒软件,免费版,俄罗斯,

        // 4."那车水马龙的人世间,那样地来 那样地去,太匆忙"最后一次和第一次出现"那"的位置
        let string3 = "那车水马龙的人世间,那样地来 那样地去,太匆忙";
        console.log(`${string3.indexOf("那")}`); // 0
        console.log(`${string3.lastIndexOf("那")}`); // 15

        // 5.判断输入的字符串是否是 .java 结束
        let userInput = ".java"
        let userInput2 = "111.java"
        console.log(`${userInput === ".java"}`); // true
        console.log(`${userInput2 === ".java"}`); // false

        // 6.某个公司采用公用电话传递数据，数据是四位的整数，在传递过程中是加密的，
        // 加密规则如下：每位数字都加上5,然后用和除以10的余数代替该数字，再将第一位和第四位交换，第二位和第三位交换
        function getEncryptPwd(params) {
            let total = 0;
            let newPwd = 0;
            let arr = (params + "").split("");
            // 每个数字+5
            let newArr = arr.map(value => (value - 0) + 5);

            // 代替该数字这步没看懂
            
            // 交换数字
            for (let index = 0; index < newArr.length / 2; index++) {
                let temp = newArr[index];
                newArr[index] = newArr[newArr.length - 1 - index];
                newArr[newArr.length - 1 - index] = temp;
            }
            return newArr;
        }
        console.log(`${getEncryptPwd(1234)}`);

        // 7.定义一个函数，传入一个字符串，用于删除最后一位,并返回删除后的字符串
        function delLastAndReturn(params) {
            let last = params.charAt(params.length - 1);
            // params = params.replace(params[params.length - 1], "11");
            // // params.length--;
            // console.log(`${params}`);
            return last;
        }

        let string7 = 'sdfsdf';
        console.log(`${delLastAndReturn(string7)}`); // f

        // 8.给定一个字符串,判断该字符串中是否包含某个子串.
        // 如果包含,求出子串的所有出现位置.如:"abcbcbabcb34bcbd"中,
        // "bcb"子串的出现位置为: 1,7,12.字符串和子串均由用户输入 indexOf()
        function findString(params, child) {
            let i = 0;
            let indexArr = [];
            let nextIndex = 0;
            while (nextIndex < params.length) {
                index = params.indexOf(child, nextIndex);
                if (index !== -1) {
                    nextIndex = index + child.length;
                    indexArr[i] = index;
                    i++;
                } else {
                    nextIndex = params.length;
                }
            }

            // for循环也行
            // for (let j = 0; j < params.length; j++) {
            //     index = params.indexOf(child, nextIndex);
            //     if (index !== -1) {
            //         nextIndex = index + child.length;
            //         indexArr[i] = index;
            //         i++;
            //         j = nextIndex;
            //     }
            // }
            return indexArr;
        }

        let string8 = "sdfgfgfgsddfgdfsd"
        console.log(`${findString(string8, "gf")}`); // 3,5

        // 9. 一段文本，以空格分割，各个单词首字母大写。
        // 比如”html css javascript” =>”Html Css Javascript”;  
        // 需学习字符串的toUpperCase():将某个字符或字符串转为大写。
        function firstWordToUpperCase(params) {
            let arr = params.split(" ");
            let outputString = "";
            arr.forEach(element => {
                element = element.replace(element[0], element[0].toUpperCase());
                outputString += element + " ";
            });
            return outputString;
        }

        console.log(`${firstWordToUpperCase("html css javascript")}`);
        // Html Css Javascript 

        // 10. 统计字符串中每个字符的个数.比如：”acddcca”;  
        //  输出[[‘a’,2],[‘d’,2],[‘c’,3]]

        // 获取在指定字母在二维数组中出现的索引
        function getIndex(arr, item) {
            let temp = 0;
            for (let index = 0; index < arr.length; index++) {
                if (arr[index].indexOf(item) === -1) {
                    continue;
                } else {
                    return index;
                }
            }
            return -1;
        }

        function countTotal(params) {
            let arr = [[]];
            let i = 0;
            for (let index = 0; index < params.length; index++) {
                let findIndex = getIndex(arr, params[index]);
                if (findIndex === -1) {
                    arr[i] = [params[index], 1];
                    i++;
                } else {
                    arr[findIndex][1]++;
                }
            }
            return arr;

        }

        console.log(`================`);
        console.log(countTotal("acddccasdfhklsfhjlksdfhjsldfhlksd"));
        // 0: (2) ['a', 2]
        // 1: (2) ['c', 3]
        // 2: (2) ['d', 6]
        // 3: (2) ['s', 5]
        // 4: (2) ['f', 4]
        // 5: (2) ['h', 4]
        // 6: (2) ['k', 3]
        // 7: (2) ['l', 4]
        // 8: (2) ['j', 2]

        // 11. 用户输入一段文字，判断是否是一张图片的路径(要求至少支持jpg和png)
        function judgePicSrc(params) {
            params = params.trim();
            // 判断是否png/jpg结尾
            if (!(params.endsWith(".png") || params.endsWith(".jpg"))) {
                return false;
            }
            // 判断是否相对路径开头
            if (!(params.startsWith("./") || params.startsWith("../"))) {
                return false;
            }

            return true;
        }

        console.log(`${judgePicSrc("./img/test.png")}`);

        // 12. 判断某个字符串是否是回文 （即正序和倒序是一样的，比如abcba)
        function huiWen(params) {
            for (let index = 0; index < params.length / 2; index++) {
                if (params[index] !== params[params.length - 1 - index]) {
                    return false;
                }
            }
            return true;
        }

        console.log(`${huiWen("abcba")}`); // true
        console.log(`${huiWen("abcba1")}`); // false
    </script>
</body>

</html>