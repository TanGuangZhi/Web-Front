<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 定义一个班级的对象数组(8个同学)
        //     [{
        //     姓名：“张胜男”
        //     成绩：97
        //     }]
        //     1.获取不及格分数的总和
        //     2.是否有不及格的分数
        //     3.是否所有成绩都及格,返回名字
        //     4.查找所有的不及格的分数的学员个数
        //     5.获取总成绩
        //     6.所有及格的分数减5分，返回一个新数组
        //     ]
        let stu = [{
            name: "张胜男",
            score: 99
        }, {
            name: "张胜男2",
            score: 66
        }, {
            name: "张胜男3",
            score: 44
        }, {
            name: "张胜男4",
            score: 33
        }, {
            name: "张胜男5",
            score: 60
        }, {
            name: "张胜男6",
            score: 59
        }, {
            name: "张胜男7",
            score: 88
        }, {
            name: "张胜男8",
            score: 100
        },]

        // 1.获取不及格分数的总和
        function getAllLess60TotalScore(arr) {
            let newArr = arr.filter((value, index) => {
                return value.score < 60;
            })
            let total = newArr.reduce((data, value) => {
                return data + value.score;
            },0)
            return total;
        }

        // 2.是否有不及格的分数
        function getHasLess60(params) {
            let flag = params.some((value) => {
                return value.score < 60;
            })
            return flag;
        }

        // 3.是否所有成绩都及格
        function getIfAllLess60(params) {
            let flag = params.every((value) => {
                return value.score < 60;
            })
            return flag;
        }

        // 4.查找所有的不及格的分数
        function findAllLess60(params) {
            let newArr = params.filter((value, index) => {
                return value.score < 60;
            })
            return newArr;
        }

        // 5.获取总成绩
        function getAllTotalScore(params) {
            let total = params.reduce((data, value) => {
                return data + value.score;
            },0)
            return total;
        }

        // 6.所有及格的分数减5分，返回一个新数组，该操作对原数组没影响 map
        function setAllMore60Del5(params) {
            let newArr = params.filter((value, index) => {
                return value.score > 60;
            })
            return params.map(value => value.score - 5);
        }

        console.log(`${getAllLess60TotalScore(stu)}`);
        console.log(`${getHasLess60(stu)}`);
        console.log(`${getIfAllLess60(stu)}`);
        console.log(`${JSON.stringify(findAllLess60(stu))}`);
        console.log(`${getAllTotalScore(stu)}`);
        console.log(`${JSON.stringify(setAllMore60Del5(stu))}`);
        console.log(`${JSON.stringify(stu)}`);
    </script>
</body>

</html>