<!DOCTYPE html>
<html lang='en'>

<head>
    <meta charset='UTF-8'>
    <meta http-equiv='X-UA-Compatible' content='IE=edge'>
    <meta name='viewport' content='width=device-width, initial-scale=1.0'>
    <title>Document</title>
    <link rel='stylesheet' href='./Bootstrap4/css/bootstrap.min.css'>
</head>

<body>
    <div class="container">
        <!-- 头部导航栏 -->
        <div class="row" style="background: black;color: white;line-height: 60px">
            <div class="col-md-12 text-right">
                <!--
                    data-toggle:点击按钮，弹出模态框事件
                    data-target:确定弹出的是哪个模态框(根据模态框id 选择)
                -->
                <button type="button" data-toggle="modal" data-target="#loginModal" class="btn btn-primary"><span
                        class="glyphicon glyphicon-log-in"></span> 登录</button>
                <button type="button" data-toggle="modal" data-target="#regModal" class="btn btn-primary"><span
                        class="glyphicon glyphicon-plus"></span> 注册</button>
                <a href="admin.html" class="btn btn-danger"><span class="glyphicon glyphicon-user"></span> 进入后台</a>
            </div>
        </div>

        <!-- 1.登录模态框
        模态框id具有唯一性:loginModal
    -->
        <div class="modal fade" id="loginModal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">用户登录</h4>
                    </div>
                    <div class="modal-body" style="padding-left: 100px">
                        <!--模态框中的主题主体内容 说白了就是写表单-->
                        <form class="form-inline">
                            <p>
                                用户名:<input type="text" name="userName" class="form-control" placeholder="请输入用户名"
                                    style="width:260px">
                                <span>*</span>
                            </p>
                            <p>
                                密　码:<input type="password" name="userPass" class="form-control" placeholder="请输入密码">
                                <button type="button" id="showPwdBtn" class="btn btn-primary">可见</button>
                                <span>*</span>
                            </p>
                            <p style="padding-left: 100px">
                                <button type="button" id="loginBtn" class="btn btn-primary">登录</button>
                                <button type="button" class="btn btn-primary" data-dismiss="modal">返回</button>
                            </p>
                        </form>
                    </div>
                </div>
            </div>
        </div>
        <!--2.注册模态框
        模态框具有唯一性:regModal
    -->
        <div class="modal fade" id="regModal" tabindex="-1" role="dialog" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                        <h4 class="modal-title">用户注册</h4>
                    </div>
                    <div class="modal-body">
                        <form class="form-inline">
                            <p>
                                用户名:<input type="text" name="userName" class="form-control" placeholder="请输入用户名"
                                    style="width:260px">
                                <span>*</span>
                            </p>
                            <p>
                                密　码:<input type="password" name="userPass" class="form-control" placeholder="请输入密码">
                                <button type="button" class="btn btn-primary">可见</button>
                                <span>*</span>
                            </p>
                            <p>
                                手机号:<input type="text" name="userPhone" class="form-control" placeholder="请输入手机号">

                                <span>*</span>
                            </p>
                            <p>
                                验证码:<input type="text" name="code" class="form-control" placeholder="请输入验证码">
                                <button type="button" id="sentMsgBtn" class="btn btn-primary">发送</button>
                                <span></span>
                            </p>
                            <p style="padding-left: 100px">
                                <button type="button" id="regBtn" class="btn btn-primary">注册</button>
                                <button type="button" class="btn btn-primary" data-dismiss="modal">返回</button>
                            </p>
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <!-- 电影内容 -->
        <div id="movieArea">
            <!-- 主内容 -->
            <h2 class="text-center mt-5">蜗牛商城</h2>
            <div class="row justify-content-end">
                <button class="col-2 btn btn-primary" data-toggle="modal" data-target="#addMovie"
                    data-bs-whatever="@mdo">添加
                </button>
                <button class="col-2 btn btn-danger" id="delByBatchBtn">批量删除 </button>
            </div>
            <div class="row">
                <table class="table mt-3 table-striped table-hover shadow-sm rounded">
                    <thead class="table-light" style="height: 60px; line-height: 60px;">
                        <tr>
                            <td>
                                <label>
                                    <div class="input-group-text">
                                        <input class="form-check-input mt-0" type="checkbox" value=""
                                            onchange="selAll(this.checked)" id="all-id"
                                            aria-label="Radio button for following text input">全选/全消
                                    </div>
                                </label>
                            </td>
                            <th scope="col">id</th>
                            <th scope="col">商品名称</th>
                            <th scope="col">商品价格</th>
                            <th scope="col">商品类型</th>
                            <th scope="col">商品图片</th>
                            <th scope="col">操作</th>
                            <th scope="col"></th>
                            <th scope="col"></th>
                        </tr>
                    </thead>
                    <tbody id="showGoods" class="table-dark">
                        <tr>
                            <td>
                                <label>选项<input type="checkbox" onchange="checkChildFlag(this.checked)"
                                        class="sel"></label>
                            </td>
                            <th scope="row">1</th>
                            <td>蜗牛1plus</td>
                            <td>1888.88</td>
                            <td>@手机</td>
                            <td><img src="../film/1.jpg" style="width: 5%;" alt="" srcset=""></td>
                            <td>
                                <button class="btn btn-light" onclick="upMove(this)">上移</button>
                            </td>
                            <td>
                                <button class="btn btn-light" onclick="downMove(this)">下移</button>
                            </td>
                        </tr>
                    </tbody>

                </table>
                <tfoot>
                    <nav aria-label="Page navigation example text-center ">
                        <ul class="pagination text-center">
                            <li class="page-item"><a class="page-link" onclick="prePage()">Previous</a></li>
                            <!-- <li class="page-item active"><a class="page-link" href="#">1</a></li>
                        <li class="page-item"><a class="page-link" href="#">2</a></li>
                        <li class="page-item"><a class="page-link" href="#">3</a></li> -->
                            <li class="page-item"><a class="page-link" onclick="nextPage()">Next</a></li>
                        </ul>
                    </nav>
                </tfoot>
            </div>

            <!-- 模态框展示 -->
            <!-- 添加商品模态框 -->
            <div class="modal fade" id="addMovie" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <h2 class="text-center">添加电影</h2>
                        <div class="modal-body">
                            <form>
                                <div class="mb-3">
                                    <label for="" class="col-form-label">电影名:</label>
                                    <input type="text" class="form-control" id="addMovieNameId">
                                    <span>*</span>
                                </div>
                                <div class="mb-3">
                                    <label for="" class="col-form-label">电影价格:</label>
                                    <input type="text" class="form-control" id="addMoviePriceId">
                                    <span>*</span>
                                </div>
                                <div class="mb-3">
                                    <label for="" class="col-form-label">电影类型:</label>
                                    <input type="text" class="form-control" id="addMovieTypeId">
                                    <span>*</span>
                                </div>
                                <div class="mb-3">
                                    <label for="" class="col-form-label">电影图片:</label>
                                    <input type="text" class="form-control" id="addMovieImgId">
                                    <span>*</span>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                            <button type="button" class="btn btn-primary" id="addMovieBtn">确认添加</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 修改商品模态框 -->
            <div class="modal fade" id="changeMovie" tabindex="-1" aria-labelledby="exampleModalLabel"
                aria-hidden="true">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <h2 class="text-center">修改电影</h2>
                        <div class="modal-body">
                            <form>
                                <div class="mb-3">
                                    <label class="col-form-label">电影id:</label>
                                    <input type="text" class="form-control" readonly id="changeMovieIdId">
                                </div>
                                <div class="mb-3">
                                    <label class="col-form-label">电影名:</label>
                                    <input type="text" class="form-control" id="changeMovieNameId">
                                    <span>*</span>
                                </div>
                                <div class="mb-3">
                                    <label class="col-form-label">电影价格:</label>
                                    <input type="text" class="form-control" " id=" changeMoviePriceId">
                                    <span>*</span>
                                </div>
                                <div class="mb-3">
                                    <label class="col-form-label">电影类型:</label>
                                    <input type="text" class="form-control" id="changeMovieTypeId">
                                    <span>*</span>
                                </div>
                                <div class="mb-3">
                                    <label class="col-form-label">电影图片:</label>
                                    <input type="text" class="form-control" id="changeMovieImgId">
                                    <span>*</span>
                                </div>
                            </form>
                        </div>
                        <div class="modal-footer">
                            <button type="button" class="btn btn-secondary" data-dismiss="modal">关闭</button>
                            <button type="button" class="btn btn-primary" id="changeMovieBtn">确认修改</button>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </div>



    <script src='./Bootstrap4/js/jquery-3.5.1.min.js'></script>
    <script src='./Bootstrap4/js/bootstrap.min.js'></script>
    <script>
        // ================用户登录方法组================
        $('#loginModal #loginBtn').click(function (e) {
            let userInfo = [{
                name: "admin",
                pwd: "666666"
            }, {
                name: "admin2",
                pwd: "666"
            }]
            let inputNameDom = $("[name=\"userName\"]").val();
            let inputPwdDom = $("[name=\"userPass\"]").val();
            let flag = userInfo.some(element => inputNameDom === element.name && inputPwdDom === element.pwd);
            if (flag) {
                // window.location.href = "admin.html";
                queryGoods();
            } else {
                checkUserName("#loginModal [name=userName]", "用户名输入错误或不存在");
                checkPass("#loginModal [name=userPass]");
                // alert('输入错误,请重新输入');
            }
        });

        $('#loginModal #showPwdBtn').click(function (e) {
            if ($('[name=userPass]').attr("type") === "password") {
                $('[name=userPass]').attr("type", "text");
            } else {
                $('[name=userPass]').attr("type", "password");
            }

        });

        // ================用户注册方法组================
        function check(selector, reg, alertMsg) {
            let userInputContent = $(selector);
            let alertDom = userInputContent.parent().find("span");;
            if (reg.test((userInputContent.val()))) {
                alertDom.html("验证通过");
                alertDom.css("color", "green");
                return true;
            } else {
                alertDom.html(alertMsg);
                alertDom.css("color", "red");
                return false;
            }
        }

        function checkUserName(sel, warning) {
            if (!warning) warning = "必须是3-5位字母";
            let reg = /^\w{3,5}$/;
            allRegCheckFlagList[0] = (check(sel, reg, warning));
        }

        function checkPass(sel) {
            let reg = /^\d{3,6}$/;
            allRegCheckFlagList[1] = (check(sel, reg, "必须是3-6位数字"));
        }

        function checkPhone(sel) {
            let reg = /^1[3-9]\d{9}$/;
            allRegCheckFlagList[2] = (check(sel, reg, "必须是11位数字"));
        }

        function checkCode(sel) {
            let reg = /^[a-zA-Z0-9]{4}$/;
            allRegCheckFlagList[3] = (check(sel, reg, "验证码不正确或失效"));
        }

        // 使用绑定事件+命名函数的形式实现多次调用(用于用户点击注册时再次校验)
        $('#regModal [name=userName]').keyup(function () {
            checkUserName("#regModal [name=userName]");
        })
        $('#regModal [name=userPass]').keyup(function () {
            checkPass('#regModal [name=userPass]');
        })
        $('#regModal [name=userPhone]').keyup(function () {
            checkPhone('#regModal [name=userPhone]');
        })
        $('#regModal [name=code]').keyup(function () {
            checkCode('#regModal [name=code]');
        })

        $('#regModal #regBtn').click(function (e) {
            let allRegCheckFlag = allRegCheckFlagList.every(value => value);
            if (allRegCheckFlagList.length < 4) {
                allRegCheckFlag = false;
            }
            if (!allRegCheckFlag) {
                checkUserName("#regModal [name=userName]");
                checkPass('#regModal [name=userPass]');
                checkPhone('#regModal [name=userPhone]');
                checkCode('#regModal [name=code]');
                return;
            }
            $(this).attr("data-dismiss", "modal");
            // window.location.href = "admin.html";
            queryGoods();
        });

        // ================验证码区================
        $("#regModal #sentMsgBtn").click(function (e) {
            let count = 60;
            // 初始化,防止等待1秒才出现效果
            dom = $(this);
            dom.html(60 + "(s)");
            dom.prop("disabled", true);
            // #TODO 优化 一函一事
            let checkCode = generCheckCode(4);
            showCheckCode(dom, checkCode);
            checkCode = checkCode.toLowerCase();

            let timer = window.setInterval(function () {

                let checkCodeRight = checkCheckCode(checkCode);
                count--;
                if (count >= 0) {
                    dom.html(count + "(s)");
                    dom.prop("disabled", true);
                    if (checkCodeRight) {
                        $('[value="登录"]').prop("disabled", false)
                    }
                } else {
                    dom.html("发送");
                    dom.prop("disabled", false);
                    $('[value="登录"]').prop("disabled", true);
                    showInvalidCheckCode(dom);
                    window.clearInterval(timer);
                }
            }, 1000)
        });

        function generCheckCode(num) {
            let randomSting = "zxcvbnmasdfghjklqwertyuiopZXCVBNMASDFGHJKLQWERTYUIOP1234567890";
            let randomCode = "";
            for (let index = 0; index < num; index++) {
                let randomNum = parseInt(Math.random() * (randomSting.length));
                randomCode += randomSting.charAt(randomNum) + "";
            }
            return randomCode;
        }

        function showCheckCode(dom, checkCode) {
            clearInvalidCheckCode(dom);
            let randomSeconds = (parseInt(Math.random() * 3) + 3) * 1000;
            setTimeout(() => {
                dom.next().html(checkCode)
            }, randomSeconds);
        }

        // 判断输入的验证码等于后台验证码否
        function checkCheckCode(params) {
            return $('[name="code"]').val() == params;
        }


        function showInvalidCheckCode(dom) {
            dom.next().css({ "color": "gray", "text-decoration": "line-through" });
        }

        // 清除失效验证码样式
        function clearInvalidCheckCode(dom) {
            dom.next().html("");
            dom.next().css({ "color": "#000", "text-decoration": "none" });
        }

        // ============主界面内容区================
        let goodsJson = [
            { id: 1, goodsName: "蜗牛1plus", goodsPrice: 1888.88, goodsType: "sdjklf", goodsImg: "images/goods/1.jpg" },
            { id: 2, goodsName: "蜗牛2plus", goodsPrice: 18888.88, goodsType: "手机", goodsImg: "images/goods/2.jpg" },
            { id: 3, goodsName: "蜗牛3plus", goodsPrice: 188888.88, goodsType: "上将屡颠覆", goodsImg: "images/goods/3.jpg" },
            { id: 4, goodsName: "蜗牛4plus", goodsPrice: 1888888.88, goodsType: "收到后方可", goodsImg: "images/goods/4.jpg" },
            { id: 5, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            {
                id: 6,
                goodsName: "蜗牛6plus",
                goodsPrice: 188888888888.88,
                goodsType: "经历看见了",
                goodsImg: "images/goods/6.jpg"
            },
            { id: 7, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 8, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 9, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 10, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 11, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 12, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 13, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 14, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 15, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 16, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 17, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 18, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 19, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 20, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 21, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 22, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 23, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 24, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 25, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" },
            { id: 26, goodsName: "蜗牛5plus", goodsPrice: 188888888.88, goodsType: "手上岛咖啡", goodsImg: "images/goods/5.jpg" }
        ];


        // 分页方法
        let nextBtnCount = 1;
        let preBtnCount = 1;
        let firstIndex = 0;
        let lastIndex = 10;
        function nextPage(params) {
            // alert(1)
            if (lastIndex < goodsJson.length) {
                firstIndex += 10;
                lastIndex += 10;
                queryGoods(firstIndex, lastIndex);
                disabledBtnInit();
            }

        }

        function prePage(params) {
            // alert(1)
            if (firstIndex > 0) {
                firstIndex -= 10;
                lastIndex -= 10;
                queryGoods(firstIndex, lastIndex);
                disabledBtnInit();
            }
        }

        // 全选全消
        function selAll(flag) {
            $('.sel').prop("checked", flag);
        }

        function checkChildFlag() {
            let flag = true;
            $('.sel').each(function () {
                if (!$(this).prop("checked")) {
                    return flag = false;
                }
            })
            $('#all-id').prop("checked", flag);
        }

        // 上移下移特殊行置灰
        function disabledBtnInit() {
            $('tr .upMove,.downMove').prop("disabled", false);
            $('tr .upMove').first().prop("disabled", true);
            $('tr .downMove').last().prop("disabled", true);
        }

        // 添加商品模态框中添加按钮触发事件
        let count = goodsJson.length + 1;
        $("#addMovie #addMovieBtn").click(function () {
            // if (!checkIsCanAddOrChange("add")) return;

            let good = {};
            good.goodsName = $("#addMovieNameId").val();
            good.goodsPrice = $("#addMoviePriceId").val();
            good.goodsType = $("#addMovieTypeId").val();
            good.id = count;
            good.goodsImg = "../film/8.jpg";
            goodsJson.unshift(good);
            count++;
            // alert("添加成功");

            $("addMovieNameId").val("");
            $("addMoviePriceId").val("");
            $("addMovieTypeId").val("");
            queryGoods();
            disabledBtnInit();
        })

        // 批量删除
        $('#delByBatchBtn').on("click", function () {
            let delArr = [];

            $('.sel').each(function () {
                if ($(this).prop("checked")) {
                    delArr.push($(this).attr("data-index"));
                }
            });
            let isOk = confirm("您确定要删除吗?");//点击确定 true  取消 false
            if (isOk) {
                if (delArr.length == 0) {
                    alert("请先选择...");
                } else {
                    alert(delArr.toString());
                }
            }
        })


        // ================查询商品================
        function queryGoods(firstIndex, lastIndex) {
            let str = ``;
            let showGoodsDom = document.getElementById("showGoods");
            if (!firstIndex || !lastIndex) {
                firstIndex = 0;
                lastIndex = 10;
            }
            let showGoodsArr = goodsJson.slice(firstIndex, lastIndex);

            showGoodsArr.forEach((element, index) => {
                let imgRandom = parseInt(Math.random() * 15) + 1;
                str += ` <tr>
                        <td>
                            <label><input type="checkbox" data-index=${index} onclick="checkChildFlag(this.checked)" class="sel form-check-input mt-0"></label>
                        </td>
                        <th scope="row">${element.id}</th>
                        <td>${element.goodsName}</td>
                        <td>${element.goodsPrice}</td>
                        <td>${element.goodsType}</td>
                        <td><img src="./img/film/${imgRandom}.jpg" class="" style="width: 50px;" alt="" srcset=""></td>
                        <td> <button class="btn btn-primary" data-toggle="modal" data-target="#changeMovie"
                           data-bs-whatever="@mdo">修改</button></td>
                        <td><button class="btn btn-warning delGoodsBtn">删除</button> </td>
                        <td><button class="btn btn-light upMove" >上移</button>
                            <button class="btn btn-light downMove" >下移</button>
                            </td>
                    </tr>`;
            });
            $("#showGoods").html(str);

            // 上移下移行
            $('.upMove').on("click", function () {
                let nowTr = $(this).parent().parent();
                let prevTr = nowTr.prev();
                prevTr.before(nowTr);
                queryGoods();
                disabledBtnInit();
            });

            $('.downMove').on("click", function () {
                let nowTr = $(this).parent().parent();
                let nextTr = nowTr.next();
                nowTr.before(nextTr);
                disabledBtnInit();
            });

            // 删除电影
            $('tr .delGoodsBtn').on("click", function () {
                // 从复选框中获取index
                let goodsIndex = $(this).parent().parent().find("input.sel").attr("data-index");
                goodsIndex -= 0;
                goodsJson.splice(goodsIndex, 1);
                queryGoods();
                disabledBtnInit();
                // ↑上述写法queryGoods()这个方法会清除已绑定好的事件,不建议使用(有解决办法了,可以这样写 2021-12-02)
                // 直接清除父级tr元素
                // $(this).parent().parent().remove();
                // disabledBtnInit();
            });

            // 修改电影
            let goodsIndex;
            $('[data-target="#changeMovie"]').click(function () {
                // if (!checkIsCanAddOrChange("")) return;
                // 去除上次输入结果对本次的影响
                $("#changeMovieNameId").val("");
                $("#changeMoviePriceId").val("");
                $("#changeMovieTypeId").val("");
                $("#changeMovieImgId").val("");
                // 获取id值
                let goodsId = $(this).parent().parent().find("th").eq(0).html();
                for (let index = 0; index < goodsJson.length; index++) {
                    const element = goodsJson[index].id;
                    if (element == goodsId) {
                        goodsIndex = index;
                        return;
                    }
                };
            })

            $('#changeMovieBtn').click(function () { 
                // if (!checkIsCanAddOrChange("")) return;
                goodsJson[goodsIndex].goodsName = $("#changeMovieNameId").val();
                goodsJson[goodsIndex].goodsPrice = $("#changeMoviePriceId").val();
                goodsJson[goodsIndex].goodsType = $("#changeMovieTypeId").val();
                goodsJson[goodsIndex].goodsImg = $("#changeMovieImgId").val();

                queryGoods();
                disabledBtnInit();
            })
        }




        // ================主函数================
        let allRegCheckFlagList = [false];
        // queryGoods();
        disabledBtnInit();



    </script>
</body>

</html>