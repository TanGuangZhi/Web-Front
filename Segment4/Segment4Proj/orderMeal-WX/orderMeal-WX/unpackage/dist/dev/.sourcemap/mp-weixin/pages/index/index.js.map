{"version":3,"sources":["uni-app:///main.js",null,"webpack:///D:/www.tanguangzhi.com/D_MyLibrary/MyCode/MyWorkspace/VSCode/WebFront/Segment4/Segment4Proj/orderMeal-WX/orderMeal-WX/pages/index/index.vue?782b","webpack:///D:/www.tanguangzhi.com/D_MyLibrary/MyCode/MyWorkspace/VSCode/WebFront/Segment4/Segment4Proj/orderMeal-WX/orderMeal-WX/pages/index/index.vue?80d2","webpack:///D:/www.tanguangzhi.com/D_MyLibrary/MyCode/MyWorkspace/VSCode/WebFront/Segment4/Segment4Proj/orderMeal-WX/orderMeal-WX/pages/index/index.vue?de1c","uni-app:///pages/index/index.vue","webpack:///D:/www.tanguangzhi.com/D_MyLibrary/MyCode/MyWorkspace/VSCode/WebFront/Segment4/Segment4Proj/orderMeal-WX/orderMeal-WX/pages/index/index.vue?4068","webpack:///D:/www.tanguangzhi.com/D_MyLibrary/MyCode/MyWorkspace/VSCode/WebFront/Segment4/Segment4Proj/orderMeal-WX/orderMeal-WX/pages/index/index.vue?c108"],"names":["wx","__webpack_require_UNI_MP_PLUGIN__","__webpack_require__","createPage","Page"],"mappings":"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8BA,GA9BA,EA8BA,QA9BA,EA8BA,yFACA,QADA,GAEA,QAFA,CACA,QADA,CACA,KADA,GAEA,QAFA,CACA,KADA,CACA,IADA,GAEA,QAFA,CACA,IADA,CACA,SADA,GAEA,QAFA,CACA,SADA,CACA,IADA,GAEA,QAFA,CACA,IADA,CACA,GADA,GAEA,QAFA,CACA,GADA,CACA,UADA,GAEA,QAFA,CACA,UADA,CAGA,gDACA,oEACA,UACA,wCADA,EAEA,YAFA,EAGA,UAHA,EAKA,UACA,wCADA,EAEA,WAFA,EAGA,SAHA,EAKA,YACA,YADA,EAEA,UAFA,EAGA,sBAHA,EAIA,oBAJA,EAKA,YALA,EAMA,UANA,EAOA,2BAPA,EAQA,QARA,EASA,QATA,EAUA,sBAVA;AAYA;AACA,KA1DA;;AA4DA;AACA,UA7DA,kBA6DA,KA7DA,EA6DA,UA7DA,EA6DA,GA7DA,EA6DA,QA7DA,EA6DA;AACA,cADA;AAEA,cAFA,CACA,QADA,CACA,KADA,GAEA,QAFA,CACA,KADA,CACA,IADA,GAEA,QAFA,CACA,IADA,CACA,SADA,GAEA,QAFA,CACA,SADA,CACA,IADA,GAEA,QAFA,CACA,IADA,CACA,GADA,GAEA,QAFA,CACA,GADA,CACA,UADA,GAEA,QAFA,CACA,UADA;AAGA;AACA;AACA;AACA,oBADA;AAEA,kBAFA;AAGA,8BAHA;AAIA,4BAJA;AAKA,oBALA;AAMA,kBANA;AAOA,mCAPA;AAQA,gBARA;AASA,gBATA;AAUA,8BAVA;;AAYA;AACA,KA/EA;;AAiFA;AACA,iBAlFA,yBAkFA,GAlFA,EAkFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAHA,MAGA;AACA;AACA;AACA,qDADA;;AAGA;AACA;AACA;AACA,SAHA,MAGA;AACA;AACA;AACA,uCADA;AAEA,uBAFA;AAGA,yBAHA;;AAKA;AACA,uCADA;AAEA,sBAFA;AAGA,wBAHA;;AAKA;AACA;AACA;AACA;AACA;AACA,KApHA;;AAsHA;AACA,mBAvHA,6BAuHA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA,MAEA;AACA;AACA;AACA,OANA;AAOA;AACA;AACA;AACA,gBADA;AAEA,uBAFA;;AAIA;AACA;AACA;AACA,4DADA;;AAGA;AACA,OALA;AAMA,KA9IA;;AAgJA;AACA,yBAjJA,iCAiJA,KAjJA,EAiJA,EAjJA,EAiJA,GAjJA,EAiJA,GAjJA,EAiJA,UAjJA,EAiJA,SAjJA,EAiJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAxJA;;AA0JA;AACA,cA3JA,wBA2JA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA;AACA;AACA,SAFA;AAGA,OAJA;AAKA;AACA,KAtKA;;AAwKA;AACA,cAzKA,wBAyKA;AACA;AACA;AACA;AACA;AACA;AACA,SAFA;AAGA;AACA,sBADA;AAEA,gCAFA;AAGA,kBAHA;AAIA,4BAJA;;AAMA;AACA,KAvLA;AAwLA;AACA,gBAzLA,0BAyLA;AACA;AACA,KA3LA;;AA6LA;AACA,gBA9LA,0BA8LA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAHA;AAIA;AACA,OANA;AAOA,KA1MA;;AA4MA;AACA,iBA7MA,2BA6MA;AACA;AACA,mBADA;AAEA,yBAFA;AAGA;AACA;AACA;AACA;AACA;AACA,uCADA;AAEA;AACA;AACA,eAJA;AAKA;AACA;AACA,eAPA;;AASA,WAZA,MAYA;AACA;AACA;AACA,SAnBA;;AAqBA,KAnOA;;AAqOA;AACA,gBAtOA,0BAsOA;AACA;AACA,+BADA;AAEA,4BAFA;;;AAKA;AACA,qDADA;;AAGA,iCATA;AAUA,KAhPA;;AAkPA;AACA,YAnPA,sBAmPA;AACA;AACA,uCADA;;AAGA,KAvPA,EA/HA;;AAwXA,QAxXA,oBAwXA;AACA;AACA;AACA,GA3XA;;AA6XA;AACA;AACA,kBAFA,4BAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAFA;AAGA;AACA,KAXA,EA7XA,E;;;;;;;;;;;;;;;;ACnLA;AAAA;AAAA;AAAA;AAAo+B,CAAgB,89BAAG,EAAC,C;;;;;;;;;;ACAx/B;AACA,OAAO,KAAU,EAAE,kBAKd","file":"pages/index/index.js","sourcesContent":["import 'uni-pages';wx.__webpack_require_UNI_MP_PLUGIN__ = __webpack_require__;\nimport Vue from 'vue'\nimport Page from './pages/index/index.vue'\ncreatePage(Page)","import { render, staticRenderFns, recyclableRender, components } from \"./index.vue?vue&type=template&id=57280228&scoped=true&\"\nvar renderjs\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"57280228\",\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"pages/index/index.vue\"\nexport default component.exports","export * from \"-!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=template&id=57280228&scoped=true&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  if (!_vm._isMounted) {\n    _vm.e0 = function($event) {\n      $event.stopPropagation()\n      _vm.total_quantity == 0 ? false : true && _vm.placean_order()\n    }\n  }\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=script&lang=js&\"","<template>\r\n  <view>\r\n    <!-- header -->\r\n    <view class=\"top-view\">\r\n      <view class=\"top-view-flex\">\r\n        <!-- icon -->\r\n        <image\r\n          src=\"/static/tab/fenxiang.svg\"\r\n          mode=\"widthFix\"\r\n          class=\"top-search\"\r\n        ></image>\r\n        <image\r\n          src=\"/static/tab/dingdan.svg\"\r\n          mode=\"widthFix\"\r\n          @click=\"my_order()\"\r\n        ></image>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- main -->\r\n    <view class=\"order-view\">\r\n      <view class=\"commodity\">\r\n        <!-- aside nav -->\r\n        <view class=\"order-left\">\r\n          <scroll-view\r\n            scroll-y=\"true\"\r\n            class=\"scroll-Hei\"\r\n            :scroll-with-animation=\"true\"\r\n            :enhanced=\"true\"\r\n            :show-scrollbar=\"false\"\r\n          >\r\n            <block v-for=\"(item, index) in itemize\" :key=\"index\">\r\n              <view\r\n                class=\"itemize-text\"\r\n                :class=\"{ active: index == trigger }\"\r\n                @click=\"itemIze(index, item.cid)\"\r\n              >\r\n                <text>{{ item.value }}</text>\r\n                <text v-if=\"item.sele_quantity > 0\">\r\n                  {{ item.sele_quantity }}\r\n                </text>\r\n              </view>\r\n            </block>\r\n          </scroll-view>\r\n        </view>\r\n\r\n        <!-- show goods -->\r\n        <view class=\"order-right\">\r\n          <scroll-view\r\n            scroll-y=\"true\"\r\n            class=\"scroll-Hei\"\r\n            :scroll-with-animation=\"true\"\r\n            :enhanced=\"true\"\r\n            :show-scrollbar=\"false\"\r\n            :scroll-into-view=\"scroll_into\"\r\n            @scroll=\"scroLl\"\r\n          >\r\n            <block v-for=\"(item, index) in goods\" :key=\"index\">\r\n              <view :id=\"item.cid\" class=\"rig-height\">\r\n                <view class=\"classif\">{{ item.category }}</view>\r\n                <view\r\n                  class=\"classif-goods\"\r\n                  v-for=\"(itemgood, good_index) in item.good_query\"\r\n                  :key=\"good_index\"\r\n                  @click=\"\r\n                    popup_item(true, index, good_index, item.cid, itemgood)\r\n                  \"\r\n                >\r\n                  <view class=\"goods-image\">\r\n                    <image\r\n                      :src=\"itemgood.image[0].url\"\r\n                      mode=\"aspectFill\"\r\n                    ></image>\r\n                  </view>\r\n                  <view class=\"goods-Price\">\r\n                    <view class=\"goods-name\">\r\n                      <text class=\"Bold\">{{ itemgood.name }}</text>\r\n                      <text class=\"Thinning\">\r\n                        已售 {{ itemgood.monthlysale }}\r\n                      </text>\r\n                    </view>\r\n                    <view class=\"unit-price\">\r\n                      <text class=\"Symbol\">¥</text>\r\n                      <text class=\"Bold\">{{ itemgood.unitprice }}</text>\r\n                      <text class=\"Thinning\">/{{ itemgood.unit }}</text>\r\n                    </view>\r\n                  </view>\r\n                  <!-- 无规格 -->\r\n                  <view class=\"quantity\" v-if=\"!itemgood.att_hide\">\r\n                    <view>\r\n                      <image\r\n                        v-if=\"itemgood.quantity > 0\"\r\n                        src=\"/static/tab/jianhao.png\"\r\n                        mode=\"widthFix\"\r\n                        @click.stop=\"\r\n                          reduce(index, good_index, item.cid, itemgood)\r\n                        \"\r\n                      ></image>\r\n                    </view>\r\n                    <view>\r\n                      <text v-if=\"itemgood.quantity > 0\">\r\n                        {{ itemgood.quantity }}\r\n                      </text>\r\n                    </view>\r\n                    <view>\r\n                      <image\r\n                        src=\"/static/tab/jia.png\"\r\n                        mode=\"widthFix\"\r\n                        @click.stop=\"\r\n                          plus(index, good_index, item.cid, itemgood)\r\n                        \"\r\n                      ></image>\r\n                    </view>\r\n                  </view>\r\n                  <!-- 有规格 -->\r\n                  <view class=\"quantity specs-view\" v-if=\"itemgood.att_hide\">\r\n                    <text>选规格</text>\r\n                    <text v-if=\"itemgood.quantity > 0\">\r\n                      {{ itemgood.quantity }}\r\n                    </text>\r\n                  </view>\r\n                </view>\r\n              </view>\r\n            </block>\r\n            <view style=\"height: 400rpx\"></view>\r\n          </scroll-view>\r\n        </view>\r\n      </view>\r\n\r\n      <!-- footer -->\r\n      <view\r\n        class=\"order-bottom\"\r\n        @click=\"pop_Shopping()\"\r\n        :style=\"{ 'padding-bottom': Modelmes ? '68rpx' : '' }\"\r\n      >\r\n        <!-- shopping car -->\r\n        <view class=\"Shopping\" style=\"width: 115rpx\">\r\n          <view class=\"Shopping-left\">\r\n            <image src=\"/static/tab/gouwuche.png\" mode=\"widthFix\"></image>\r\n          </view>\r\n          <view class=\"Shopping-number\" v-if=\"total_quantity > 0\">\r\n            {{ total_quantity }}\r\n          </view>\r\n        </view>\r\n        <view class=\"Shopping-title\" v-if=\"total_quantity > 0\">\r\n          已点{{ total_quantity }}份菜品\r\n        </view>\r\n        <view\r\n          class=\"place-order\"\r\n          @click.stop=\"total_quantity == 0 ? false : true && placean_order()\"\r\n        >\r\n          <button plain=\"true\" open-type=\"getUserInfo\">选好了</button>\r\n        </view>\r\n      </view>\r\n    </view>\r\n\r\n    <!-- show shopping car component -->\r\n    <Cart v-if=\"card\" :shopping_card=\"shopping_card\"></Cart>\r\n    <!-- 引入单个商品弹出 -->\r\n    <Details v-if=\"popupitem\" :pro_details=\"pro_details\"></Details>\r\n    <!-- 骨架屏 -->\r\n    <Home v-if=\"exist\"></Home>\r\n  </view>\r\n</template>\r\n\r\n<script>\r\nconst app = getApp();\r\nconst { Modelmes } = app.globalData;\r\n\r\n// 小程序端一次性只返回20条数据；云函数段100条；外部nodejs，java返回10条\r\n// 引入购物车子组件\r\nimport Cart from \"./components/shopping-cart.vue\";\r\n// 引入单个商品弹出\r\nimport Details from \"./components/goods-details.vue\";\r\n// 订单编号\r\nimport { Code } from \"../../config/order.js\";\r\n// 计算当天的销售额\r\nimport { analysis } from \"../../config/Date_analysis.js\";\r\n\r\nexport default {\r\n  components: {\r\n    Cart,\r\n    Details,\r\n  },\r\n  data() {\r\n    return {\r\n      exist: true,\r\n      Modelmes,\r\n      itemize: [\r\n        {\r\n          value: \"素菜类\",\r\n          cid: \"a1632471891408\",\r\n        },\r\n        {\r\n          value: \"荤菜类\",\r\n          cid: \"a1632472054423\",\r\n        },\r\n      ], //类目\r\n      trigger: 0, //类目选中的值\r\n      goods: [\r\n        {\r\n          category: \"素菜类\",\r\n          cid: \"a1632471891408\",\r\n          good_query: [\r\n            {\r\n              att_hide: false,\r\n              att_name: \"\",\r\n              image: [\r\n                {\r\n                  status: \"success\",\r\n                  uid: 1633614408430,\r\n                  url: \"https://img1.baidu.com/it/u=193298170,2852600379&fm=253&fmt=auto&app=120&f=JPEG?w=640&h=427\",\r\n                },\r\n              ],\r\n              monthlysale: 7,\r\n              name: \"炒白菜\",\r\n              onsale: true,\r\n              quantity: 0,\r\n              specs: [\r\n                {\r\n                  attribute: \"\",\r\n                  unit: \"盘\",\r\n                  unitprice: 4,\r\n                },\r\n              ],\r\n              time: \"2021-10-07 21:46:50\",\r\n              unit: \"盘\",\r\n              unitprice: 4,\r\n              _id: \"cd045e75615efa4b13b19e98488f651e\",\r\n            },\r\n            {\r\n              att_hide: false,\r\n              att_name: \"\",\r\n              image: [\r\n                {\r\n                  status: \"success\",\r\n                  uid: 1633614614967,\r\n                  url: \"https://img0.baidu.com/it/u=4121092334,3466584648&fm=26&fmt=auto\",\r\n                },\r\n              ],\r\n              monthlysale: 7,\r\n              name: \"蒸豆腐\",\r\n              onsale: true,\r\n              quantity: 0,\r\n              specs: [\r\n                {\r\n                  attribute: \"\",\r\n                  unit: \"锅\",\r\n                  unitprice: 15,\r\n                },\r\n              ],\r\n              time: \"2021-10-07 21:50:21\",\r\n              unit: \"锅\",\r\n              unitprice: 15,\r\n              _id: \"2d44d6c2615efb1d11b978814450a8d7\",\r\n            },\r\n          ],\r\n        },\r\n        {\r\n          category: \"荤菜类\",\r\n          cid: \"a1632472054423\",\r\n          good_query: [\r\n            {\r\n              att_hide: true,\r\n              att_name: \"口味\",\r\n              image: [\r\n                {\r\n                  status: \"success\",\r\n                  uid: 1633583035862,\r\n                  url: \"https://img0.baidu.com/it/u=1663321105,919021246&fm=26&fmt=auto\",\r\n                },\r\n              ],\r\n              monthlysale: 7,\r\n              name: \"鸡排\",\r\n              onsale: true,\r\n              quantity: 0,\r\n              specs: [\r\n                {\r\n                  attribute: \"辣\",\r\n                  unit: \"盘\",\r\n                  unitprice: 13,\r\n                },\r\n                {\r\n                  attribute: \"不辣\",\r\n                  unit: \"盘\",\r\n                  unitprice: 13,\r\n                },\r\n              ],\r\n              time: \"2021-10-07 18:14:27\",\r\n              unit: \"盘\",\r\n              unitprice: 13,\r\n              _id: \"cd045e75615efa4b13b19e98488f651e\",\r\n            },\r\n          ],\r\n        },\r\n      ], //所有菜品\r\n      heightset: [], //存储右边每一个分类菜品的高度\r\n      tophei: 0, //滚动时距离顶部的高度\r\n      scroll_into: \"\",\r\n      card: false, //购物车隐藏\r\n      shopping_card: [], //购物车里的数据\r\n      popupitem: false, //单个商品弹出框隐藏\r\n      pro_details: {}, //单个商品弹出框里的数据\r\n      tmplIds: \"vyGKdrSGBzESZiILr4aD8cxwSOox6W6xrUfDInWx9aQ\", //模板id\r\n    };\r\n  },\r\n  methods: {\r\n    // 点击类目加上背景色\r\n    itemIze(index, cid) {\r\n      this.trigger = index;\r\n      this.scroll_into = cid;\r\n      setTimeout(() => {\r\n        this.scroll_into = \"\";\r\n      }, 200);\r\n    },\r\n    // 右边菜品滚动时触发\r\n    scroLl(event) {\r\n      // console.log(event.detail.scrollTop)\r\n      let scrollTop = event.detail.scrollTop;\r\n      if (scrollTop >= this.tophei) {\r\n        //上拉\r\n        // 当前分类商品的高度小于滚动高度时跳转下一个分类\r\n        if (scrollTop >= this.heightset[this.trigger]) {\r\n          this.trigger += 1;\r\n        }\r\n      } else {\r\n        //下拉\r\n        // 当前分类商品的高度大于滚动高度时跳转下一个分类\r\n        if (scrollTop < this.heightset[this.trigger - 1]) {\r\n          this.trigger -= 1;\r\n        }\r\n      }\r\n      this.tophei = scrollTop;\r\n    },\r\n\r\n    // 单个商品+\r\n    plus(index, good_index, cid, itemgood, Men = \"001\") {\r\n      const { quantity, image, name, unitprice, unit, _id, good_specs } =\r\n        itemgood;\r\n      const QU = Men == \"001\" ? quantity + 1 : quantity;\r\n      this.$set(this.goods[index].good_query[good_index], \"quantity\", QU);\r\n      this.$set(\r\n        this.goods[index].good_query[good_index],\r\n        \"good_specs\",\r\n        good_specs\r\n      );\r\n      this.$set(\r\n        this.goods[index].good_query[good_index],\r\n        \"unitprice\",\r\n        unitprice\r\n      );\r\n      const arr = {\r\n        image,\r\n        name,\r\n        good_specs,\r\n        unitprice,\r\n        quantity: QU,\r\n        unit,\r\n        total_price: unitprice * QU,\r\n        _id,\r\n        cid,\r\n        good_index,\r\n      };\r\n      this.shopping_Cart(arr);\r\n    },\r\n\r\n    // 单个商品-\r\n    reduce(index, good_index, cid, itemgood) {\r\n      const { quantity, image, name, unitprice, unit, _id, good_specs } =\r\n        itemgood;\r\n      const QU = quantity - 1;\r\n      this.$set(this.goods[index].good_query[good_index], \"quantity\", QU);\r\n      const arr = {\r\n        image,\r\n        name,\r\n        good_specs,\r\n        unitprice,\r\n        quantity: QU,\r\n        unit,\r\n        total_price: unitprice * QU,\r\n        _id,\r\n        cid,\r\n        good_index,\r\n      };\r\n      this.shopping_Cart(arr);\r\n    },\r\n\r\n    // 添加进购物车的商品\r\n    shopping_Cart(arr) {\r\n      // 一：购物车没有数据，空数组：\r\n      // 直接添加进数据\r\n      // 二：购物车里有数据\r\n      // 1.没有相同的菜品存在\r\n      // 2.有相同的菜品存在\r\n      if (this.shopping_card.length == 0) {\r\n        // 一：购物车没有数据，空数组：\r\n        this.shopping_card.push(arr);\r\n      } else {\r\n        // 二：购物车里有数据\r\n        let itemindex = this.shopping_card.findIndex(\r\n          (item) => item._id == arr._id\r\n        );\r\n        if (itemindex == -1) {\r\n          // 没有相同的菜品存在\r\n          this.shopping_card.unshift(arr);\r\n        } else {\r\n          this.$set(this.shopping_card[itemindex], \"quantity\", arr.quantity);\r\n          this.$set(\r\n            this.shopping_card[itemindex],\r\n            \"total_price\",\r\n            arr.total_price\r\n          );\r\n          this.$set(\r\n            this.shopping_card[itemindex],\r\n            \"good_specs\",\r\n            arr.good_specs\r\n          );\r\n          this.$set(this.shopping_card[itemindex], \"unitprice\", arr.unitprice);\r\n        }\r\n      }\r\n      console.log(this.shopping_card);\r\n      this.qunint_of_goods();\r\n    },\r\n\r\n    // 计算左边各分类下添加了多少菜品\r\n    qunint_of_goods() {\r\n      let array = this.shopping_card;\r\n      let res = {};\r\n      array.forEach((item) => {\r\n        if (res[item.cid]) {\r\n          res[item.cid] += item.quantity;\r\n        } else {\r\n          res[item.cid] = item.quantity;\r\n        }\r\n      });\r\n      let M = [];\r\n      for (let k in res) {\r\n        M.push({\r\n          cid: k,\r\n          value: res[k],\r\n        });\r\n      }\r\n      M.forEach((item) => {\r\n        let res_index = this.itemize.findIndex(\r\n          (iteming) => iteming.cid == item.cid\r\n        );\r\n        this.$set(this.itemize[res_index], \"sele_quantity\", item.value);\r\n      });\r\n    },\r\n\r\n    //购物车商品加减数量\r\n    shopping_Cart_add_sub(index, QU, _id, cid, good_index, unitprice) {\r\n      this.$set(this.shopping_card[index], \"quantity\", QU);\r\n      this.$set(this.shopping_card[index], \"total_price\", QU * unitprice);\r\n      // 根据_id唯一标识查询商品的数量做到商品加减同步\r\n      const itemcid = this.goods.findIndex((item) => item.cid == cid);\r\n      this.$set(this.goods[itemcid].good_query[good_index], \"quantity\", QU);\r\n      this.qunint_of_goods();\r\n    },\r\n\r\n    // 清空已点：被子组件调用\r\n    empty_data() {\r\n      this.shopping_card = [];\r\n      this.itemize.forEach((item) => {\r\n        item.sele_quantity = 0;\r\n      });\r\n      this.goods.forEach((item) => {\r\n        item.good_query.forEach((T) => {\r\n          T.quantity = 0;\r\n        });\r\n      });\r\n      this.pop_Shopping(false);\r\n    },\r\n\r\n    // 弹出或隐藏单个商品弹出框\r\n    popup_item(value = true, index, good_index, cid, itemgood) {\r\n      this.popupitem = value;\r\n      // 选取最小的值排在第一\r\n      if (value) {\r\n        itemgood.specs.sort((A, B) => {\r\n          return A.unitprice - B.unitprice;\r\n        });\r\n        this.pro_details = {\r\n          index,\r\n          good_index,\r\n          cid,\r\n          itemgood,\r\n        };\r\n      }\r\n    },\r\n    // 显示购物车组件\r\n    pop_Shopping(value = true) {\r\n      this.card = value;\r\n    },\r\n\r\n    // 计算右边每个分类菜品的高度\r\n    goods_height() {\r\n      this.heightset = [];\r\n      let cate_height = 0;\r\n      const query = wx.createSelectorQuery();\r\n      query.selectAll(\".rig-height\").boundingClientRect();\r\n      query.exec((res) => {\r\n        res[0].forEach((item) => {\r\n          cate_height += item.height;\r\n          this.heightset.push(cate_height);\r\n        });\r\n        this.exist = false;\r\n      });\r\n    },\r\n\r\n    // 弹出订阅消息弹窗\r\n    placean_order() {\r\n      wx.showModal({\r\n        title: \"提示\",\r\n        content: \"是否确认下单\",\r\n        success: (res) => {\r\n          if (res.confirm) {\r\n            console.log(\"用户点击确定\");\r\n            // 消息弹窗\r\n            wx.requestSubscribeMessage({\r\n              tmplIds: [this.tmplIds],\r\n              success: (res) => {\r\n                this.sub_database();\r\n              },\r\n              fail: (err) => {\r\n                console.log(err);\r\n              },\r\n            });\r\n          } else if (res.cancel) {\r\n            console.log(\"用户点击取消\");\r\n          }\r\n        },\r\n      });\r\n    },\r\n\r\n    // 提交订单\r\n    async sub_database() {\r\n      wx.showLoading({\r\n        title: \"正在下单\",\r\n        mask: true,\r\n      });\r\n\r\n      wx.redirectTo({\r\n        url: \"/pages/order-details/details\",\r\n      });\r\n      wx.hideLoading();\r\n    },\r\n\r\n    // 我的订单\r\n    my_order() {\r\n      wx.navigateTo({\r\n        url: \"/pages/my-order/my-order\",\r\n      });\r\n    },\r\n  },\r\n  onLoad() {\r\n    // 获取用餐人数\r\n    this.number_people = wx.getStorageSync(\"number_of_diners\");\r\n  },\r\n\r\n  computed: {\r\n    // 计算购物车的菜品总数\r\n    total_quantity() {\r\n      // var\r\n      // let\r\n      // const\r\n      let quantity = 0;\r\n      this.shopping_card.forEach((item) => {\r\n        quantity += item.quantity;\r\n      });\r\n      return quantity;\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.top-view {\r\n  background: linear-gradient(\r\n    to bottom,\r\n    #f7d45f,\r\n    #f7d562,\r\n    #f8d561,\r\n    #f9db76,\r\n    #f9de80\r\n  );\r\n  height: 120rpx;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n  padding: 0 20rpx;\r\n  position: fixed;\r\n  top: 0;\r\n  right: 0;\r\n  left: 0;\r\n}\r\n\r\n.top-view image {\r\n  display: block;\r\n  width: 35rpx;\r\n  height: 35rpx;\r\n}\r\n\r\n.top-view-flex {\r\n  display: flex;\r\n  align-items: center;\r\n}\r\n\r\n.top-search {\r\n  padding-right: 50rpx;\r\n}\r\n\r\n/* 点餐界面 */\r\n.order-view {\r\n  margin-top: 120rpx;\r\n}\r\n\r\n.commodity {\r\n  display: flex;\r\n  position: fixed;\r\n  top: 120rpx;\r\n  left: 0;\r\n  right: 0;\r\n}\r\n\r\n.order-left {\r\n  background-color: #fafafa;\r\n  width: 150rpx;\r\n  overflow-y: auto;\r\n}\r\n\r\n.itemize-text {\r\n  font-size: 27rpx;\r\n  padding: 30rpx 10rpx;\r\n  display: flex;\r\n  align-items: center;\r\n  color: #797979;\r\n}\r\n\r\n.itemize-text text:nth-child(1) {\r\n  flex: 1;\r\n}\r\n\r\n.itemize-text text:nth-child(2) {\r\n  background-color: #eb5941;\r\n  border-radius: 50%;\r\n  font-size: 20rpx;\r\n  color: #ffffff;\r\n  width: 30rpx;\r\n  height: 30rpx;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  margin-left: 2rpx;\r\n}\r\n\r\n.scroll-Hei {\r\n  height: 100vh;\r\n  /* white-space: nowrap; */\r\n}\r\n\r\n.order-right {\r\n  background-color: #ffffff;\r\n  flex: 1;\r\n  overflow-y: auto;\r\n}\r\n\r\n.classif {\r\n  font-size: 27rpx;\r\n  padding: 30rpx 20rpx;\r\n  color: #797979;\r\n}\r\n\r\n/* 分类商品 */\r\n.classif-goods {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  padding: 0 20rpx;\r\n  height: 150rpx;\r\n  font-size: 30rpx;\r\n  margin-bottom: 45rpx;\r\n}\r\n\r\n.goods-image image {\r\n  display: block;\r\n  width: 150rpx;\r\n  height: 150rpx;\r\n  border-radius: 10rpx;\r\n}\r\n\r\n.goods-Price {\r\n  flex: 1;\r\n  position: relative;\r\n  padding: 0 20rpx;\r\n}\r\n\r\n.goods-Price text {\r\n  display: block;\r\n}\r\n\r\n.goods-name {\r\n  display: flex;\r\n  flex-direction: column;\r\n  position: relative;\r\n  top: 0;\r\n}\r\n\r\n.goods-name text:nth-child(1) {\r\n  padding-bottom: 9rpx;\r\n}\r\n\r\n.unit-price {\r\n  position: absolute;\r\n  bottom: 0;\r\n  display: flex;\r\n  align-items: baseline;\r\n}\r\n\r\n.Bold {\r\n  font-weight: bold;\r\n}\r\n\r\n.Symbol {\r\n  font-size: 20rpx;\r\n}\r\n\r\n.Thinning {\r\n  font-size: 25rpx;\r\n  color: #cccccc;\r\n}\r\n\r\n.quantity image {\r\n  width: 50rpx;\r\n  height: 50rpx;\r\n}\r\n\r\n.quantity view {\r\n  width: 50rpx;\r\n  height: 50rpx;\r\n  text-align: center;\r\n  line-height: 50rpx;\r\n}\r\n\r\n.quantity {\r\n  display: flex;\r\n  align-items: center;\r\n  align-self: flex-end;\r\n  width: 200rpx;\r\n  justify-content: space-between;\r\n}\r\n\r\n/* 规格 */\r\n.specs-view {\r\n  height: 50rpx;\r\n  width: 100rpx !important;\r\n  border-radius: 50rpx;\r\n  font-size: 25rpx;\r\n  justify-content: center !important;\r\n  position: relative;\r\n  background: linear-gradient(to right, #f8da81, #f8d771, #f7d362, #f6cb4a);\r\n}\r\n\r\n.specs-view text:nth-child(2) {\r\n  position: absolute;\r\n  right: -10rpx;\r\n  top: -17rpx;\r\n  background-color: #eb5941;\r\n  border-radius: 50%;\r\n  font-size: 20rpx;\r\n  color: #ffffff;\r\n  width: 30rpx;\r\n  height: 30rpx;\r\n  text-align: center;\r\n  line-height: 30rpx;\r\n}\r\n\r\n.order-bottom {\r\n  background-color: #fefefe;\r\n  height: 120rpx;\r\n  position: fixed;\r\n  bottom: 0;\r\n  left: 0;\r\n  right: 0;\r\n  box-shadow: 0rpx -1.9rpx 1rpx 1rpx #f9f9f9;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: space-between;\r\n  padding: 0 20rpx;\r\n  z-index: 9;\r\n}\r\n\r\n.Shopping image {\r\n  width: 75rpx;\r\n  height: 75rpx;\r\n  display: block;\r\n}\r\n\r\n.Shopping-left {\r\n  width: 75rpx;\r\n  height: 75rpx;\r\n}\r\n\r\n.Shopping {\r\n  display: flex;\r\n  align-items: center;\r\n  /* height: 120rpx; */\r\n}\r\n\r\n.Shopping-number {\r\n  align-self: flex-start;\r\n  background: #eb5941;\r\n  color: #ffff;\r\n  width: 40rpx;\r\n  border-radius: 50rpx;\r\n  text-align: center;\r\n  font-size: 20rpx;\r\n  /* margin-top: 15rpx; */\r\n}\r\n\r\n.Shopping-title {\r\n  flex: 1;\r\n  padding: 0 25rpx;\r\n  color: #999999;\r\n  /* height: 120rpx;\r\n\tline-height: 120rpx; */\r\n}\r\n\r\n.place-order button {\r\n  border: none;\r\n  background: linear-gradient(to right, #f8da81, #f8d771, #f7d362, #f6cb4a);\r\n  width: 200rpx;\r\n  height: 75rpx;\r\n  line-height: 75rpx;\r\n  border-radius: 50rpx;\r\n  font-weight: bold;\r\n  z-index: 9;\r\n}\r\n\r\n/* 点击分类列表加上背景色 */\r\n.active {\r\n  background-color: #ffffff;\r\n  color: #000000 !important;\r\n}\r\n</style>\r\n","import mod from \"-!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css&\"; export default mod; export * from \"-!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\mini-css-extract-plugin\\\\dist\\\\loader.js??ref--6-oneOf-1-0!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\css-loader\\\\dist\\\\cjs.js??ref--6-oneOf-1-1!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\stylePostLoader.js!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--6-oneOf-1-2!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\postcss-loader\\\\src\\\\index.js??ref--6-oneOf-1-3!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!E:\\\\300_Program\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./index.vue?vue&type=style&index=0&id=57280228&scoped=true&lang=css&\"","// extracted by mini-css-extract-plugin\n    if(module.hot) {\n      // 1646370826456\n      var cssReload = require(\"E:/300_Program/HBuilderX/plugins/uniapp-cli/node_modules/mini-css-extract-plugin/dist/hmr/hotModuleReplacement.js\")(module.id, {\"hmr\":true,\"publicPath\":\"../../\",\"locals\":false});\n      module.hot.dispose(cssReload);\n      module.hot.accept(undefined, cssReload);\n    }\n  "],"sourceRoot":""}